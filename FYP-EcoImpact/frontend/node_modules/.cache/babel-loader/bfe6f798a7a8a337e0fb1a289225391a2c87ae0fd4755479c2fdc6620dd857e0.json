{"ast":null,"code":"var _jsxFileName = \"D:\\\\Fyp\\\\FYP-EcoImpact\\\\frontend\\\\src\\\\components\\\\simulate\\\\SummaryCards.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SummaryCards({\n  predictions,\n  countryContext,\n  success,\n  carbonPriceUSD\n}) {\n  // Calculate metrics\n  const annualRevenueMillionUSD = (predictions === null || predictions === void 0 ? void 0 : predictions.annualRevenueMillionUSD) || 0;\n\n  // CO₂ Covered calculation - derived from revenue and carbon price\n  // Formula: CO2_covered_tons = (annual_revenue_usd / carbon_price_usd_per_ton)\n  // This is consistent with revenue model output\n  let co2CoveredMillionTons = null;\n  if (annualRevenueMillionUSD > 0 && carbonPriceUSD && carbonPriceUSD > 0) {\n    const annualRevenueUSD = annualRevenueMillionUSD * 1000000; // Convert to USD\n    const co2CoveredTons = annualRevenueUSD / carbonPriceUSD;\n    co2CoveredMillionTons = co2CoveredTons / 1000000; // Convert to million tons\n  }\n\n  // Revenue as % of GDP\n  // Use backend-calculated value if available, otherwise calculate\n  const revenueUSD = annualRevenueMillionUSD * 1000000;\n  const gdpUSD = (countryContext === null || countryContext === void 0 ? void 0 : countryContext.gdpUSD) || (countryContext === null || countryContext === void 0 ? void 0 : countryContext.gdpPPP) || null;\n  let revenuePctGDP = null;\n  if (gdpUSD && gdpUSD > 0) {\n    revenuePctGDP = revenueUSD / gdpUSD * 100;\n  }\n  const formatNumber = (num, decimals = 1) => {\n    return new Intl.NumberFormat('en-US', {\n      minimumFractionDigits: decimals,\n      maximumFractionDigits: decimals\n    }).format(num);\n  };\n  const formatCurrency = num => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 1,\n      maximumFractionDigits: 1,\n      notation: 'compact',\n      compactDisplay: 'short'\n    }).format(num);\n  };\n\n  // Get success model outputs\n  const successProbability = success === null || success === void 0 ? void 0 : success.success_probability;\n  const riskLevel = success === null || success === void 0 ? void 0 : success.risk_level;\n  const status = success === null || success === void 0 ? void 0 : success.status;\n\n  // Determine risk color\n  const getRiskColor = risk => {\n    if (!risk) return '#888888';\n    if (risk === 'low') return '#00FF6F';\n    if (risk === 'medium') return '#FFC107';\n    return '#FF4444'; // high\n  };\n  const getRiskIcon = risk => {\n    if (!risk) return '?';\n    if (risk === 'low') return '✓';\n    if (risk === 'medium') return '!';\n    return '⚠'; // high\n  };\n  const cards = [{\n    title: 'Annual Revenue',\n    value: formatCurrency(annualRevenueMillionUSD * 1000000),\n    subtitle: 'ML-based',\n    color: '#01D6DF'\n  }, {\n    title: 'Policy Success',\n    value: successProbability !== null && successProbability !== undefined ? `${formatNumber(successProbability * 100, 1)}%` : 'N/A',\n    subtitle: status ? `${status} (ML-based)` : 'ML-based',\n    color: getRiskColor(riskLevel),\n    icon: getRiskIcon(riskLevel)\n  }, {\n    title: 'CO₂ Covered',\n    value: co2CoveredMillionTons !== null && co2CoveredMillionTons > 0 ? `${formatNumber(co2CoveredMillionTons, 2)}M tons/year` : 'N/A',\n    subtitle: 'Calculated',\n    color: '#00FF6F',\n    tooltip: 'Annual revenue / Carbon price (derived from revenue model)'\n  }, {\n    title: 'Revenue as % of GDP',\n    value: revenuePctGDP !== null && revenuePctGDP > 0 && revenuePctGDP < 100 ? `${formatNumber(revenuePctGDP, 2)}%` : 'N/A',\n    subtitle: 'Calculated',\n    color: '#01D6DF',\n    tooltip: 'Annual revenue / GDP × 100'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"summary-cards\",\n    children: cards.map((card, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `summary-card ${card.tooltip ? 'summary-card-with-tooltip' : ''}`,\n      \"data-tooltip\": card.tooltip || '',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"summary-card-title\",\n          children: [card.title, card.icon && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '8px',\n              fontSize: '18px'\n            },\n            children: card.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-card-subtitle\",\n          children: card.subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-card-value\",\n        style: {\n          color: card.color\n        },\n        children: card.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n_c = SummaryCards;\nexport default SummaryCards;\nvar _c;\n$RefreshReg$(_c, \"SummaryCards\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","SummaryCards","predictions","countryContext","success","carbonPriceUSD","annualRevenueMillionUSD","co2CoveredMillionTons","annualRevenueUSD","co2CoveredTons","revenueUSD","gdpUSD","gdpPPP","revenuePctGDP","formatNumber","num","decimals","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","formatCurrency","style","currency","notation","compactDisplay","successProbability","success_probability","riskLevel","risk_level","status","getRiskColor","risk","getRiskIcon","cards","title","value","subtitle","color","undefined","icon","tooltip","className","children","map","card","index","marginLeft","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Fyp/FYP-EcoImpact/frontend/src/components/simulate/SummaryCards.js"],"sourcesContent":["import React from 'react';\n\nfunction SummaryCards({ predictions, countryContext, success, carbonPriceUSD }) {\n  // Calculate metrics\n  const annualRevenueMillionUSD = predictions?.annualRevenueMillionUSD || 0;\n  \n  // CO₂ Covered calculation - derived from revenue and carbon price\n  // Formula: CO2_covered_tons = (annual_revenue_usd / carbon_price_usd_per_ton)\n  // This is consistent with revenue model output\n  let co2CoveredMillionTons = null;\n  if (annualRevenueMillionUSD > 0 && carbonPriceUSD && carbonPriceUSD > 0) {\n    const annualRevenueUSD = annualRevenueMillionUSD * 1000000; // Convert to USD\n    const co2CoveredTons = annualRevenueUSD / carbonPriceUSD;\n    co2CoveredMillionTons = co2CoveredTons / 1000000; // Convert to million tons\n  }\n  \n  // Revenue as % of GDP\n  // Use backend-calculated value if available, otherwise calculate\n  const revenueUSD = annualRevenueMillionUSD * 1000000;\n  const gdpUSD = countryContext?.gdpUSD || countryContext?.gdpPPP || null;\n  let revenuePctGDP = null;\n  if (gdpUSD && gdpUSD > 0) {\n    revenuePctGDP = (revenueUSD / gdpUSD) * 100;\n  }\n\n  const formatNumber = (num, decimals = 1) => {\n    return new Intl.NumberFormat('en-US', {\n      minimumFractionDigits: decimals,\n      maximumFractionDigits: decimals\n    }).format(num);\n  };\n\n  const formatCurrency = (num) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 1,\n      maximumFractionDigits: 1,\n      notation: 'compact',\n      compactDisplay: 'short'\n    }).format(num);\n  };\n\n  // Get success model outputs\n  const successProbability = success?.success_probability;\n  const riskLevel = success?.risk_level;\n  const status = success?.status;\n  \n  // Determine risk color\n  const getRiskColor = (risk) => {\n    if (!risk) return '#888888';\n    if (risk === 'low') return '#00FF6F';\n    if (risk === 'medium') return '#FFC107';\n    return '#FF4444'; // high\n  };\n  \n  const getRiskIcon = (risk) => {\n    if (!risk) return '?';\n    if (risk === 'low') return '✓';\n    if (risk === 'medium') return '!';\n    return '⚠'; // high\n  };\n\n  const cards = [\n    {\n      title: 'Annual Revenue',\n      value: formatCurrency(annualRevenueMillionUSD * 1000000),\n      subtitle: 'ML-based',\n      color: '#01D6DF'\n    },\n    {\n      title: 'Policy Success',\n      value: successProbability !== null && successProbability !== undefined\n        ? `${formatNumber(successProbability * 100, 1)}%`\n        : 'N/A',\n      subtitle: status ? `${status} (ML-based)` : 'ML-based',\n      color: getRiskColor(riskLevel),\n      icon: getRiskIcon(riskLevel)\n    },\n    {\n      title: 'CO₂ Covered',\n      value: co2CoveredMillionTons !== null && co2CoveredMillionTons > 0 \n        ? `${formatNumber(co2CoveredMillionTons, 2)}M tons/year`\n        : 'N/A',\n      subtitle: 'Calculated',\n      color: '#00FF6F',\n      tooltip: 'Annual revenue / Carbon price (derived from revenue model)'\n    },\n    {\n      title: 'Revenue as % of GDP',\n      value: revenuePctGDP !== null && revenuePctGDP > 0 && revenuePctGDP < 100\n        ? `${formatNumber(revenuePctGDP, 2)}%`\n        : 'N/A',\n      subtitle: 'Calculated',\n      color: '#01D6DF',\n      tooltip: 'Annual revenue / GDP × 100'\n    }\n  ];\n\n  return (\n    <div className=\"summary-cards\">\n      {cards.map((card, index) => (\n        <div \n          key={index} \n          className={`summary-card ${card.tooltip ? 'summary-card-with-tooltip' : ''}`}\n          data-tooltip={card.tooltip || ''}\n        >\n          <div className=\"summary-card-header\">\n            <h3 className=\"summary-card-title\">\n              {card.title}\n              {card.icon && <span style={{ marginLeft: '8px', fontSize: '18px' }}>{card.icon}</span>}\n            </h3>\n            <span className=\"summary-card-subtitle\">{card.subtitle}</span>\n          </div>\n          <div className=\"summary-card-value\" style={{ color: card.color }}>\n            {card.value}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default SummaryCards;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}