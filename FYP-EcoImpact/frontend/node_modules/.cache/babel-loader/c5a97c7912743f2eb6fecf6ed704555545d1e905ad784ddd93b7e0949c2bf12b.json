{"ast":null,"code":"var _jsxFileName = \"D:\\\\Fyp\\\\FYP-EcoImpact\\\\frontend\\\\src\\\\pages\\\\Simulate.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport cyberEarthImage from '../images/cyberearth.png';\nimport { apiPost, getToken } from '../utils/api';\nimport { mockSimulationResponse } from '../data/mockSimulationData';\nimport InputPanel from '../components/simulate/InputPanel';\nimport SummaryCards from '../components/simulate/SummaryCards';\nimport TimeSeriesChart from '../components/simulate/TimeSeriesChart';\nimport CO2DonutChart from '../components/simulate/CO2DonutChart';\nimport SimilarPoliciesPanel from '../components/simulate/SimilarPoliciesPanel';\nimport DisclaimerBox from '../components/simulate/DisclaimerBox';\nimport { saveSimulation } from '../utils/simulationStorage';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Simulate() {\n  _s();\n  const navigate = useNavigate();\n  const [inputs, setInputs] = useState({\n    country: '',\n    policyType: 'CARBON_TAX',\n    carbonPriceUSD: '',\n    durationYears: 5\n  });\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [apiError, setApiError] = useState(null);\n  const [useMockData, setUseMockData] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    setIsLoggedIn(!!token);\n  }, []);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputs(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Clear errors when user types\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n    setApiError(null);\n  };\n  const validateInputs = () => {\n    const newErrors = {};\n    if (!inputs.country || inputs.country.trim() === '') {\n      newErrors.country = 'Country is required';\n    }\n    if (!inputs.carbonPriceUSD || inputs.carbonPriceUSD <= 0) {\n      newErrors.carbonPriceUSD = 'Carbon price must be greater than 0';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async () => {\n    // Check if user is logged in\n    const token = getToken();\n    if (!token || !isLoggedIn) {\n      setApiError('Please login to run simulation.');\n      // Optionally redirect to login after 2 seconds\n      setTimeout(() => {\n        navigate('/login');\n      }, 2000);\n      return;\n    }\n    if (!validateInputs()) {\n      return;\n    }\n    setLoading(true);\n    setApiError(null);\n    setResults(null);\n    setUseMockData(false);\n    try {\n      // Prepare request body matching FastAPI contract\n      const requestBody = {\n        country: inputs.country,\n        policy_type: inputs.policyType === 'CARBON_TAX' ? 'Carbon Tax' : 'ETS',\n        carbon_price: parseFloat(inputs.carbonPriceUSD),\n        duration: parseInt(inputs.durationYears),\n        year: 2024\n      };\n      const response = await apiPost('/predict/all', requestBody);\n      if (!response.ok) {\n        // Handle error response with specific status codes\n        let errorMessage = 'Failed to get prediction';\n        try {\n          const errorData = await response.json();\n          errorMessage = errorData.detail || errorData.message || errorMessage;\n\n          // Provide user-friendly messages for common errors\n          if (response.status === 503) {\n            if (errorMessage.includes('models not loaded') || errorMessage.includes('Models not loaded')) {\n              errorMessage = 'ML models not loaded. Please train models first.';\n            } else if (errorMessage.includes('encoders')) {\n              errorMessage = 'ML encoders not loaded. Please ensure models are trained and saved.';\n            } else {\n              errorMessage = 'Backend service unavailable. Please check if models are loaded.';\n            }\n          } else if (response.status === 401) {\n            errorMessage = 'Please login to run simulation.';\n          } else if (response.status === 400) {\n            // Keep the detailed validation error from backend\n            errorMessage = errorData.detail || errorMessage;\n          }\n        } catch (e) {\n          // If response is not JSON, use status text\n          if (response.status === 503) {\n            errorMessage = 'Backend service unavailable. Please check if models are loaded.';\n          } else if (response.status === 401) {\n            errorMessage = 'Please login to run simulation.';\n          } else {\n            errorMessage = response.statusText || errorMessage;\n          }\n        }\n        throw new Error(errorMessage);\n      }\n      const data = await response.json();\n\n      // Transform FastAPI response to match frontend expected format\n      const transformedData = transformApiResponse(data);\n      setResults(transformedData);\n      setUseMockData(false);\n      setApiError(null);\n\n      // Save simulation result for comparison\n      try {\n        saveSimulation(transformedData);\n      } catch (error) {\n        console.warn('Failed to save simulation for comparison:', error);\n        // Don't fail the simulation if saving fails\n      }\n    } catch (error) {\n      console.error('Simulation error:', error);\n\n      // Provide helpful error messages\n      let errorMessage = error.message || 'Failed to connect to API.';\n\n      // Network/connection errors\n      if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n        errorMessage = 'Backend not reachable at http://127.0.0.1:8000. Please ensure FastAPI is running.';\n      }\n      setApiError(errorMessage);\n      // Don't show mock data automatically - let user know there's an error\n      setUseMockData(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const transformApiResponse = apiData => {\n    var _apiData$inputs, _apiData$inputs2, _apiData$inputs3, _apiData$inputs4;\n    // Transform FastAPI response format to frontend expected format\n    const yearlyPredictions = apiData.yearly_predictions || [];\n    const firstYear = yearlyPredictions[0] || {};\n\n    // Calculate average revenue across all years\n    const averageRevenue = yearlyPredictions.length > 0 ? yearlyPredictions.reduce((sum, p) => sum + (p.revenue_million_usd || 0), 0) / yearlyPredictions.length : firstYear.revenue_million_usd || 0;\n\n    // Extract coverage from first year (if available)\n    const coverage = firstYear.coverage || null;\n\n    // Extract country context from backend response\n    const backendCountryContext = apiData.country_context || {};\n    const countryContext = {\n      annualCO2Tons: backendCountryContext.annualCO2Tons || null,\n      gdpUSD: backendCountryContext.gdpUSD || backendCountryContext.gdpPPP || null,\n      gdpPPP: backendCountryContext.gdpPPP || backendCountryContext.gdpUSD || null,\n      // Use USD if PPP not available\n      population: backendCountryContext.population || null,\n      fossilFuelDependencyPct: backendCountryContext.fossilFuelDependencyPct || null,\n      region: backendCountryContext.region || null,\n      incomeGroup: backendCountryContext.incomeGroup || null\n    };\n    return {\n      inputs: {\n        country: ((_apiData$inputs = apiData.inputs) === null || _apiData$inputs === void 0 ? void 0 : _apiData$inputs.country) || inputs.country,\n        policyType: ((_apiData$inputs2 = apiData.inputs) === null || _apiData$inputs2 === void 0 ? void 0 : _apiData$inputs2.policy_type) === 'Carbon Tax' ? 'CARBON_TAX' : 'ETS',\n        carbonPriceUSD: ((_apiData$inputs3 = apiData.inputs) === null || _apiData$inputs3 === void 0 ? void 0 : _apiData$inputs3.carbon_price) || inputs.carbonPriceUSD,\n        durationYears: ((_apiData$inputs4 = apiData.inputs) === null || _apiData$inputs4 === void 0 ? void 0 : _apiData$inputs4.duration) || inputs.durationYears\n      },\n      predictions: {\n        annualRevenueMillionUSD: averageRevenue,\n        confidence: {\n          revenueLow: averageRevenue * 0.8,\n          revenueHigh: averageRevenue * 1.2\n        }\n      },\n      success: {\n        success_probability: apiData.success_probability || null,\n        risk_level: apiData.risk_level || null,\n        status: apiData.status || null\n      },\n      countryContext: countryContext,\n      // Now populated from backend\n      similarPolicies: [] // FastAPI doesn't return this yet\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container simulate-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-background\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cyber-earth-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cyberEarthImage,\n          alt: \"Cyber Earth\",\n          className: \"cyber-earth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-content\",\n        children: [/*#__PURE__*/_jsxDEV(InputPanel, {\n          inputs: inputs,\n          onInputChange: handleInputChange,\n          onSubmit: handleSubmit,\n          loading: loading,\n          errors: errors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), apiError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"api-error-notice\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: apiError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), results && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"results-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"section-title\",\n              children: \"Simulation Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryCards, {\n              predictions: results.predictions,\n              countryContext: results.countryContext,\n              success: results.success,\n              carbonPriceUSD: inputs.carbonPriceUSD\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DisclaimerBox, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"charts-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(TimeSeriesChart, {\n                  durationYears: results.inputs.durationYears,\n                  predictions: results.predictions,\n                  yearStart: 2024\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(CO2DonutChart, {\n                  predictions: results.predictions,\n                  countryContext: results.countryContext,\n                  carbonPriceUSD: inputs.carbonPriceUSD\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), results.similarPolicies && results.similarPolicies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"similar-policies-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(SimilarPoliciesPanel, {\n                similarPolicies: results.similarPolicies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)\n        }, void 0, false), !results && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-description\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Configure key policy settings, duration, carbon price, and region. Generate real-time projections of how your climate strategy will affect both the environment and revenue.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"After running the simulation, Eco-Impact AI displays clear insights on emission coverage, revenue predictions, and CO\\u2082 coverage, supported by interactive charts for deeper analysis.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n}\n_s(Simulate, \"OFIigs27mGXecPvTJUW8TSzCGyo=\", false, function () {\n  return [useNavigate];\n});\n_c = Simulate;\nexport default Simulate;\nvar _c;\n$RefreshReg$(_c, \"Simulate\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","cyberEarthImage","apiPost","getToken","mockSimulationResponse","InputPanel","SummaryCards","TimeSeriesChart","CO2DonutChart","SimilarPoliciesPanel","DisclaimerBox","saveSimulation","jsxDEV","_jsxDEV","Fragment","_Fragment","Simulate","_s","navigate","inputs","setInputs","country","policyType","carbonPriceUSD","durationYears","results","setResults","loading","setLoading","errors","setErrors","apiError","setApiError","useMockData","setUseMockData","isLoggedIn","setIsLoggedIn","token","localStorage","getItem","handleInputChange","e","name","value","target","prev","validateInputs","newErrors","trim","Object","keys","length","handleSubmit","setTimeout","requestBody","policy_type","carbon_price","parseFloat","duration","parseInt","year","response","ok","errorMessage","errorData","json","detail","message","status","includes","statusText","Error","data","transformedData","transformApiResponse","error","console","warn","apiData","_apiData$inputs","_apiData$inputs2","_apiData$inputs3","_apiData$inputs4","yearlyPredictions","yearly_predictions","firstYear","averageRevenue","reduce","sum","p","revenue_million_usd","coverage","backendCountryContext","country_context","countryContext","annualCO2Tons","gdpUSD","gdpPPP","population","fossilFuelDependencyPct","region","incomeGroup","predictions","annualRevenueMillionUSD","confidence","revenueLow","revenueHigh","success","success_probability","risk_level","similarPolicies","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onInputChange","onSubmit","yearStart","_c","$RefreshReg$"],"sources":["D:/Fyp/FYP-EcoImpact/frontend/src/pages/Simulate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport cyberEarthImage from '../images/cyberearth.png';\nimport { apiPost, getToken } from '../utils/api';\nimport { mockSimulationResponse } from '../data/mockSimulationData';\nimport InputPanel from '../components/simulate/InputPanel';\nimport SummaryCards from '../components/simulate/SummaryCards';\nimport TimeSeriesChart from '../components/simulate/TimeSeriesChart';\nimport CO2DonutChart from '../components/simulate/CO2DonutChart';\nimport SimilarPoliciesPanel from '../components/simulate/SimilarPoliciesPanel';\nimport DisclaimerBox from '../components/simulate/DisclaimerBox';\nimport { saveSimulation } from '../utils/simulationStorage';\n\nfunction Simulate() {\n  const navigate = useNavigate();\n  const [inputs, setInputs] = useState({\n    country: '',\n    policyType: 'CARBON_TAX',\n    carbonPriceUSD: '',\n    durationYears: 5\n  });\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [apiError, setApiError] = useState(null);\n  const [useMockData, setUseMockData] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    setIsLoggedIn(!!token);\n  }, []);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setInputs(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Clear errors when user types\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n    setApiError(null);\n  };\n\n  const validateInputs = () => {\n    const newErrors = {};\n    \n    if (!inputs.country || inputs.country.trim() === '') {\n      newErrors.country = 'Country is required';\n    }\n    \n    if (!inputs.carbonPriceUSD || inputs.carbonPriceUSD <= 0) {\n      newErrors.carbonPriceUSD = 'Carbon price must be greater than 0';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async () => {\n    // Check if user is logged in\n    const token = getToken();\n    if (!token || !isLoggedIn) {\n      setApiError('Please login to run simulation.');\n      // Optionally redirect to login after 2 seconds\n      setTimeout(() => {\n        navigate('/login');\n      }, 2000);\n      return;\n    }\n\n    if (!validateInputs()) {\n      return;\n    }\n\n    setLoading(true);\n    setApiError(null);\n    setResults(null);\n    setUseMockData(false);\n\n    try {\n      // Prepare request body matching FastAPI contract\n      const requestBody = {\n        country: inputs.country,\n        policy_type: inputs.policyType === 'CARBON_TAX' ? 'Carbon Tax' : 'ETS',\n        carbon_price: parseFloat(inputs.carbonPriceUSD),\n        duration: parseInt(inputs.durationYears),\n        year: 2024\n      };\n\n      const response = await apiPost('/predict/all', requestBody);\n\n      if (!response.ok) {\n        // Handle error response with specific status codes\n        let errorMessage = 'Failed to get prediction';\n        try {\n          const errorData = await response.json();\n          errorMessage = errorData.detail || errorData.message || errorMessage;\n          \n          // Provide user-friendly messages for common errors\n          if (response.status === 503) {\n            if (errorMessage.includes('models not loaded') || errorMessage.includes('Models not loaded')) {\n              errorMessage = 'ML models not loaded. Please train models first.';\n            } else if (errorMessage.includes('encoders')) {\n              errorMessage = 'ML encoders not loaded. Please ensure models are trained and saved.';\n            } else {\n              errorMessage = 'Backend service unavailable. Please check if models are loaded.';\n            }\n          } else if (response.status === 401) {\n            errorMessage = 'Please login to run simulation.';\n          } else if (response.status === 400) {\n            // Keep the detailed validation error from backend\n            errorMessage = errorData.detail || errorMessage;\n          }\n        } catch (e) {\n          // If response is not JSON, use status text\n          if (response.status === 503) {\n            errorMessage = 'Backend service unavailable. Please check if models are loaded.';\n          } else if (response.status === 401) {\n            errorMessage = 'Please login to run simulation.';\n          } else {\n            errorMessage = response.statusText || errorMessage;\n          }\n        }\n        \n        throw new Error(errorMessage);\n      }\n\n      const data = await response.json();\n\n      // Transform FastAPI response to match frontend expected format\n      const transformedData = transformApiResponse(data);\n      setResults(transformedData);\n      setUseMockData(false);\n      setApiError(null);\n      \n      // Save simulation result for comparison\n      try {\n        saveSimulation(transformedData);\n      } catch (error) {\n        console.warn('Failed to save simulation for comparison:', error);\n        // Don't fail the simulation if saving fails\n      }\n    } catch (error) {\n      console.error('Simulation error:', error);\n      \n      // Provide helpful error messages\n      let errorMessage = error.message || 'Failed to connect to API.';\n      \n      // Network/connection errors\n      if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n        errorMessage = 'Backend not reachable at http://127.0.0.1:8000. Please ensure FastAPI is running.';\n      }\n      \n      setApiError(errorMessage);\n      // Don't show mock data automatically - let user know there's an error\n      setUseMockData(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const transformApiResponse = (apiData) => {\n    // Transform FastAPI response format to frontend expected format\n    const yearlyPredictions = apiData.yearly_predictions || [];\n    const firstYear = yearlyPredictions[0] || {};\n    \n    // Calculate average revenue across all years\n    const averageRevenue = yearlyPredictions.length > 0\n      ? yearlyPredictions.reduce((sum, p) => sum + (p.revenue_million_usd || 0), 0) / yearlyPredictions.length\n      : firstYear.revenue_million_usd || 0;\n\n    // Extract coverage from first year (if available)\n    const coverage = firstYear.coverage || null;\n    \n    // Extract country context from backend response\n    const backendCountryContext = apiData.country_context || {};\n    const countryContext = {\n      annualCO2Tons: backendCountryContext.annualCO2Tons || null,\n      gdpUSD: backendCountryContext.gdpUSD || backendCountryContext.gdpPPP || null,\n      gdpPPP: backendCountryContext.gdpPPP || backendCountryContext.gdpUSD || null, // Use USD if PPP not available\n      population: backendCountryContext.population || null,\n      fossilFuelDependencyPct: backendCountryContext.fossilFuelDependencyPct || null,\n      region: backendCountryContext.region || null,\n      incomeGroup: backendCountryContext.incomeGroup || null\n    };\n\n    return {\n      inputs: {\n        country: apiData.inputs?.country || inputs.country,\n        policyType: apiData.inputs?.policy_type === 'Carbon Tax' ? 'CARBON_TAX' : 'ETS',\n        carbonPriceUSD: apiData.inputs?.carbon_price || inputs.carbonPriceUSD,\n        durationYears: apiData.inputs?.duration || inputs.durationYears\n      },\n      predictions: {\n        annualRevenueMillionUSD: averageRevenue,\n        confidence: {\n          revenueLow: averageRevenue * 0.8,\n          revenueHigh: averageRevenue * 1.2\n        }\n      },\n      success: {\n        success_probability: apiData.success_probability || null,\n        risk_level: apiData.risk_level || null,\n        status: apiData.status || null\n      },\n      countryContext: countryContext, // Now populated from backend\n      similarPolicies: [] // FastAPI doesn't return this yet\n    };\n  };\n\n  return (\n    <div className=\"page-container simulate-page\">\n      <div className=\"page-background\">\n        <div className=\"cyber-earth-container\">\n          <img src={cyberEarthImage} alt=\"Cyber Earth\" className=\"cyber-earth\" />\n        </div>\n      </div>\n      <div className=\"page-content-wrapper\">\n        <div className=\"page-content\">\n          <InputPanel\n            inputs={inputs}\n            onInputChange={handleInputChange}\n            onSubmit={handleSubmit}\n            loading={loading}\n            errors={errors}\n          />\n\n          {apiError && (\n            <div className=\"api-error-notice\">\n              <p>{apiError}</p>\n            </div>\n          )}\n\n          {results && (\n            <>\n              <div className=\"results-section\">\n                <h2 className=\"section-title\">Simulation Results</h2>\n                \n                <SummaryCards\n                  predictions={results.predictions}\n                  countryContext={results.countryContext}\n                  success={results.success}\n                  carbonPriceUSD={inputs.carbonPriceUSD}\n                />\n\n                <DisclaimerBox />\n\n                <div className=\"charts-grid\">\n                  <div className=\"chart-wrapper\">\n                    <TimeSeriesChart\n                      durationYears={results.inputs.durationYears}\n                      predictions={results.predictions}\n                      yearStart={2024}\n                    />\n                  </div>\n\n                  <div className=\"chart-wrapper\">\n                    <CO2DonutChart\n                      predictions={results.predictions}\n                      countryContext={results.countryContext}\n                      carbonPriceUSD={inputs.carbonPriceUSD}\n                    />\n                  </div>\n                </div>\n\n                {results.similarPolicies && results.similarPolicies.length > 0 && (\n                  <div className=\"similar-policies-wrapper\">\n                    <SimilarPoliciesPanel similarPolicies={results.similarPolicies} />\n                  </div>\n                )}\n              </div>\n            </>\n          )}\n\n          {!results && (\n            <div className=\"page-description\">\n              <p>\n                Configure key policy settings, duration, carbon price, and region. \n                Generate real-time projections of how your climate strategy will affect both the environment and revenue.\n              </p>\n              <p>\n                After running the simulation, Eco-Impact AI displays clear insights on emission coverage, \n                revenue predictions, and COâ‚‚ coverage, supported by interactive charts for deeper analysis.\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Simulate;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,eAAe,MAAM,0BAA0B;AACtD,SAASC,OAAO,EAAEC,QAAQ,QAAQ,cAAc;AAChD,SAASC,sBAAsB,QAAQ,4BAA4B;AACnE,OAAOC,UAAU,MAAM,mCAAmC;AAC1D,OAAOC,YAAY,MAAM,qCAAqC;AAC9D,OAAOC,eAAe,MAAM,wCAAwC;AACpE,OAAOC,aAAa,MAAM,sCAAsC;AAChE,OAAOC,oBAAoB,MAAM,6CAA6C;AAC9E,OAAOC,aAAa,MAAM,sCAAsC;AAChE,SAASC,cAAc,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE5D,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAMC,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACmB,MAAM,EAAEC,SAAS,CAAC,GAAGtB,QAAQ,CAAC;IACnCuB,OAAO,EAAE,EAAE;IACXC,UAAU,EAAE,YAAY;IACxBC,cAAc,EAAE,EAAE;IAClBC,aAAa,EAAE;EACjB,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC6B,OAAO,EAAEC,UAAU,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC+B,MAAM,EAAEC,SAAS,CAAC,GAAGhC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAACiC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACmC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACqC,UAAU,EAAEC,aAAa,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EAEnDC,SAAS,CAAC,MAAM;IACd,MAAMsC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3CH,aAAa,CAAC,CAAC,CAACC,KAAK,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCxB,SAAS,CAACyB,IAAI,KAAK;MACjB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;IACH;IACA,IAAId,MAAM,CAACa,IAAI,CAAC,EAAE;MAChBZ,SAAS,CAACe,IAAI,KAAK;QACjB,GAAGA,IAAI;QACP,CAACH,IAAI,GAAG;MACV,CAAC,CAAC,CAAC;IACL;IACAV,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMc,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMC,SAAS,GAAG,CAAC,CAAC;IAEpB,IAAI,CAAC5B,MAAM,CAACE,OAAO,IAAIF,MAAM,CAACE,OAAO,CAAC2B,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MACnDD,SAAS,CAAC1B,OAAO,GAAG,qBAAqB;IAC3C;IAEA,IAAI,CAACF,MAAM,CAACI,cAAc,IAAIJ,MAAM,CAACI,cAAc,IAAI,CAAC,EAAE;MACxDwB,SAAS,CAACxB,cAAc,GAAG,qCAAqC;IAClE;IAEAO,SAAS,CAACiB,SAAS,CAAC;IACpB,OAAOE,MAAM,CAACC,IAAI,CAACH,SAAS,CAAC,CAACI,MAAM,KAAK,CAAC;EAC5C,CAAC;EAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B;IACA,MAAMf,KAAK,GAAGlC,QAAQ,CAAC,CAAC;IACxB,IAAI,CAACkC,KAAK,IAAI,CAACF,UAAU,EAAE;MACzBH,WAAW,CAAC,iCAAiC,CAAC;MAC9C;MACAqB,UAAU,CAAC,MAAM;QACfnC,QAAQ,CAAC,QAAQ,CAAC;MACpB,CAAC,EAAE,IAAI,CAAC;MACR;IACF;IAEA,IAAI,CAAC4B,cAAc,CAAC,CAAC,EAAE;MACrB;IACF;IAEAlB,UAAU,CAAC,IAAI,CAAC;IAChBI,WAAW,CAAC,IAAI,CAAC;IACjBN,UAAU,CAAC,IAAI,CAAC;IAChBQ,cAAc,CAAC,KAAK,CAAC;IAErB,IAAI;MACF;MACA,MAAMoB,WAAW,GAAG;QAClBjC,OAAO,EAAEF,MAAM,CAACE,OAAO;QACvBkC,WAAW,EAAEpC,MAAM,CAACG,UAAU,KAAK,YAAY,GAAG,YAAY,GAAG,KAAK;QACtEkC,YAAY,EAAEC,UAAU,CAACtC,MAAM,CAACI,cAAc,CAAC;QAC/CmC,QAAQ,EAAEC,QAAQ,CAACxC,MAAM,CAACK,aAAa,CAAC;QACxCoC,IAAI,EAAE;MACR,CAAC;MAED,MAAMC,QAAQ,GAAG,MAAM3D,OAAO,CAAC,cAAc,EAAEoD,WAAW,CAAC;MAE3D,IAAI,CAACO,QAAQ,CAACC,EAAE,EAAE;QAChB;QACA,IAAIC,YAAY,GAAG,0BAA0B;QAC7C,IAAI;UACF,MAAMC,SAAS,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;UACvCF,YAAY,GAAGC,SAAS,CAACE,MAAM,IAAIF,SAAS,CAACG,OAAO,IAAIJ,YAAY;;UAEpE;UACA,IAAIF,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;YAC3B,IAAIL,YAAY,CAACM,QAAQ,CAAC,mBAAmB,CAAC,IAAIN,YAAY,CAACM,QAAQ,CAAC,mBAAmB,CAAC,EAAE;cAC5FN,YAAY,GAAG,kDAAkD;YACnE,CAAC,MAAM,IAAIA,YAAY,CAACM,QAAQ,CAAC,UAAU,CAAC,EAAE;cAC5CN,YAAY,GAAG,qEAAqE;YACtF,CAAC,MAAM;cACLA,YAAY,GAAG,iEAAiE;YAClF;UACF,CAAC,MAAM,IAAIF,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;YAClCL,YAAY,GAAG,iCAAiC;UAClD,CAAC,MAAM,IAAIF,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;YAClC;YACAL,YAAY,GAAGC,SAAS,CAACE,MAAM,IAAIH,YAAY;UACjD;QACF,CAAC,CAAC,OAAOtB,CAAC,EAAE;UACV;UACA,IAAIoB,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;YAC3BL,YAAY,GAAG,iEAAiE;UAClF,CAAC,MAAM,IAAIF,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;YAClCL,YAAY,GAAG,iCAAiC;UAClD,CAAC,MAAM;YACLA,YAAY,GAAGF,QAAQ,CAACS,UAAU,IAAIP,YAAY;UACpD;QACF;QAEA,MAAM,IAAIQ,KAAK,CAACR,YAAY,CAAC;MAC/B;MAEA,MAAMS,IAAI,GAAG,MAAMX,QAAQ,CAACI,IAAI,CAAC,CAAC;;MAElC;MACA,MAAMQ,eAAe,GAAGC,oBAAoB,CAACF,IAAI,CAAC;MAClD9C,UAAU,CAAC+C,eAAe,CAAC;MAC3BvC,cAAc,CAAC,KAAK,CAAC;MACrBF,WAAW,CAAC,IAAI,CAAC;;MAEjB;MACA,IAAI;QACFrB,cAAc,CAAC8D,eAAe,CAAC;MACjC,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACC,IAAI,CAAC,2CAA2C,EAAEF,KAAK,CAAC;QAChE;MACF;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;;MAEzC;MACA,IAAIZ,YAAY,GAAGY,KAAK,CAACR,OAAO,IAAI,2BAA2B;;MAE/D;MACA,IAAIQ,KAAK,CAACR,OAAO,CAACE,QAAQ,CAAC,iBAAiB,CAAC,IAAIM,KAAK,CAACR,OAAO,CAACE,QAAQ,CAAC,cAAc,CAAC,EAAE;QACvFN,YAAY,GAAG,mFAAmF;MACpG;MAEA/B,WAAW,CAAC+B,YAAY,CAAC;MACzB;MACA7B,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,SAAS;MACRN,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM8C,oBAAoB,GAAII,OAAO,IAAK;IAAA,IAAAC,eAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA;IACxC;IACA,MAAMC,iBAAiB,GAAGL,OAAO,CAACM,kBAAkB,IAAI,EAAE;IAC1D,MAAMC,SAAS,GAAGF,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;;IAE5C;IACA,MAAMG,cAAc,GAAGH,iBAAiB,CAAChC,MAAM,GAAG,CAAC,GAC/CgC,iBAAiB,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAKD,GAAG,IAAIC,CAAC,CAACC,mBAAmB,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGP,iBAAiB,CAAChC,MAAM,GACtGkC,SAAS,CAACK,mBAAmB,IAAI,CAAC;;IAEtC;IACA,MAAMC,QAAQ,GAAGN,SAAS,CAACM,QAAQ,IAAI,IAAI;;IAE3C;IACA,MAAMC,qBAAqB,GAAGd,OAAO,CAACe,eAAe,IAAI,CAAC,CAAC;IAC3D,MAAMC,cAAc,GAAG;MACrBC,aAAa,EAAEH,qBAAqB,CAACG,aAAa,IAAI,IAAI;MAC1DC,MAAM,EAAEJ,qBAAqB,CAACI,MAAM,IAAIJ,qBAAqB,CAACK,MAAM,IAAI,IAAI;MAC5EA,MAAM,EAAEL,qBAAqB,CAACK,MAAM,IAAIL,qBAAqB,CAACI,MAAM,IAAI,IAAI;MAAE;MAC9EE,UAAU,EAAEN,qBAAqB,CAACM,UAAU,IAAI,IAAI;MACpDC,uBAAuB,EAAEP,qBAAqB,CAACO,uBAAuB,IAAI,IAAI;MAC9EC,MAAM,EAAER,qBAAqB,CAACQ,MAAM,IAAI,IAAI;MAC5CC,WAAW,EAAET,qBAAqB,CAACS,WAAW,IAAI;IACpD,CAAC;IAED,OAAO;MACLlF,MAAM,EAAE;QACNE,OAAO,EAAE,EAAA0D,eAAA,GAAAD,OAAO,CAAC3D,MAAM,cAAA4D,eAAA,uBAAdA,eAAA,CAAgB1D,OAAO,KAAIF,MAAM,CAACE,OAAO;QAClDC,UAAU,EAAE,EAAA0D,gBAAA,GAAAF,OAAO,CAAC3D,MAAM,cAAA6D,gBAAA,uBAAdA,gBAAA,CAAgBzB,WAAW,MAAK,YAAY,GAAG,YAAY,GAAG,KAAK;QAC/EhC,cAAc,EAAE,EAAA0D,gBAAA,GAAAH,OAAO,CAAC3D,MAAM,cAAA8D,gBAAA,uBAAdA,gBAAA,CAAgBzB,YAAY,KAAIrC,MAAM,CAACI,cAAc;QACrEC,aAAa,EAAE,EAAA0D,gBAAA,GAAAJ,OAAO,CAAC3D,MAAM,cAAA+D,gBAAA,uBAAdA,gBAAA,CAAgBxB,QAAQ,KAAIvC,MAAM,CAACK;MACpD,CAAC;MACD8E,WAAW,EAAE;QACXC,uBAAuB,EAAEjB,cAAc;QACvCkB,UAAU,EAAE;UACVC,UAAU,EAAEnB,cAAc,GAAG,GAAG;UAChCoB,WAAW,EAAEpB,cAAc,GAAG;QAChC;MACF,CAAC;MACDqB,OAAO,EAAE;QACPC,mBAAmB,EAAE9B,OAAO,CAAC8B,mBAAmB,IAAI,IAAI;QACxDC,UAAU,EAAE/B,OAAO,CAAC+B,UAAU,IAAI,IAAI;QACtCzC,MAAM,EAAEU,OAAO,CAACV,MAAM,IAAI;MAC5B,CAAC;MACD0B,cAAc,EAAEA,cAAc;MAAE;MAChCgB,eAAe,EAAE,EAAE,CAAC;IACtB,CAAC;EACH,CAAC;EAED,oBACEjG,OAAA;IAAKkG,SAAS,EAAC,8BAA8B;IAAAC,QAAA,gBAC3CnG,OAAA;MAAKkG,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9BnG,OAAA;QAAKkG,SAAS,EAAC,uBAAuB;QAAAC,QAAA,eACpCnG,OAAA;UAAKoG,GAAG,EAAEhH,eAAgB;UAACiH,GAAG,EAAC,aAAa;UAACH,SAAS,EAAC;QAAa;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNzG,OAAA;MAAKkG,SAAS,EAAC,sBAAsB;MAAAC,QAAA,eACnCnG,OAAA;QAAKkG,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BnG,OAAA,CAACR,UAAU;UACTc,MAAM,EAAEA,MAAO;UACfoG,aAAa,EAAE/E,iBAAkB;UACjCgF,QAAQ,EAAEpE,YAAa;UACvBzB,OAAO,EAAEA,OAAQ;UACjBE,MAAM,EAAEA;QAAO;UAAAsF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,EAEDvF,QAAQ,iBACPlB,OAAA;UAAKkG,SAAS,EAAC,kBAAkB;UAAAC,QAAA,eAC/BnG,OAAA;YAAAmG,QAAA,EAAIjF;UAAQ;YAAAoF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CACN,EAEA7F,OAAO,iBACNZ,OAAA,CAAAE,SAAA;UAAAiG,QAAA,eACEnG,OAAA;YAAKkG,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BnG,OAAA;cAAIkG,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAkB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAErDzG,OAAA,CAACP,YAAY;cACXgG,WAAW,EAAE7E,OAAO,CAAC6E,WAAY;cACjCR,cAAc,EAAErE,OAAO,CAACqE,cAAe;cACvCa,OAAO,EAAElF,OAAO,CAACkF,OAAQ;cACzBpF,cAAc,EAAEJ,MAAM,CAACI;YAAe;cAAA4F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvC,CAAC,eAEFzG,OAAA,CAACH,aAAa;cAAAyG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAEjBzG,OAAA;cAAKkG,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAC1BnG,OAAA;gBAAKkG,SAAS,EAAC,eAAe;gBAAAC,QAAA,eAC5BnG,OAAA,CAACN,eAAe;kBACdiB,aAAa,EAAEC,OAAO,CAACN,MAAM,CAACK,aAAc;kBAC5C8E,WAAW,EAAE7E,OAAO,CAAC6E,WAAY;kBACjCmB,SAAS,EAAE;gBAAK;kBAAAN,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjB;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAENzG,OAAA;gBAAKkG,SAAS,EAAC,eAAe;gBAAAC,QAAA,eAC5BnG,OAAA,CAACL,aAAa;kBACZ8F,WAAW,EAAE7E,OAAO,CAAC6E,WAAY;kBACjCR,cAAc,EAAErE,OAAO,CAACqE,cAAe;kBACvCvE,cAAc,EAAEJ,MAAM,CAACI;gBAAe;kBAAA4F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EAEL7F,OAAO,CAACqF,eAAe,IAAIrF,OAAO,CAACqF,eAAe,CAAC3D,MAAM,GAAG,CAAC,iBAC5DtC,OAAA;cAAKkG,SAAS,EAAC,0BAA0B;cAAAC,QAAA,eACvCnG,OAAA,CAACJ,oBAAoB;gBAACqG,eAAe,EAAErF,OAAO,CAACqF;cAAgB;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/D,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC,gBACN,CACH,EAEA,CAAC7F,OAAO,iBACPZ,OAAA;UAAKkG,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BnG,OAAA;YAAAmG,QAAA,EAAG;UAGH;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJzG,OAAA;YAAAmG,QAAA,EAAG;UAGH;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACrG,EAAA,CA3RQD,QAAQ;EAAA,QACEhB,WAAW;AAAA;AAAA0H,EAAA,GADrB1G,QAAQ;AA6RjB,eAAeA,QAAQ;AAAC,IAAA0G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}