{"ast":null,"code":"var _jsxFileName = \"D:\\\\Fyp\\\\FYP-EcoImpact\\\\frontend\\\\src\\\\pages\\\\Simulate.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport cyberEarthImage from '../images/cyberearth.png';\nimport { API_BASE_URL } from '../config/api';\nimport { mockSimulationResponse } from '../data/mockSimulationData';\nimport InputPanel from '../components/simulate/InputPanel';\nimport SummaryCards from '../components/simulate/SummaryCards';\nimport TimeSeriesChart from '../components/simulate/TimeSeriesChart';\nimport EnergyMixChart from '../components/simulate/EnergyMixChart';\nimport CO2DonutChart from '../components/simulate/CO2DonutChart';\nimport SimilarPoliciesPanel from '../components/simulate/SimilarPoliciesPanel';\nimport DisclaimerBox from '../components/simulate/DisclaimerBox';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Simulate() {\n  _s();\n  const navigate = useNavigate();\n  const [inputs, setInputs] = useState({\n    country: '',\n    policyType: 'CARBON_TAX',\n    carbonPriceUSD: '',\n    durationYears: 5\n  });\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [apiError, setApiError] = useState(null);\n  const [useMockData, setUseMockData] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    setIsLoggedIn(!!token);\n  }, []);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputs(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Clear errors when user types\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n    setApiError(null);\n  };\n  const validateInputs = () => {\n    const newErrors = {};\n    if (!inputs.country || inputs.country.trim() === '') {\n      newErrors.country = 'Country is required';\n    }\n    if (!inputs.carbonPriceUSD || inputs.carbonPriceUSD <= 0) {\n      newErrors.carbonPriceUSD = 'Carbon price must be greater than 0';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async () => {\n    // Check if user is logged in\n    if (!isLoggedIn) {\n      navigate('/signup');\n      return;\n    }\n    if (!validateInputs()) {\n      return;\n    }\n    setLoading(true);\n    setApiError(null);\n    setResults(null);\n    try {\n      // Prepare request body matching API contract\n      const requestBody = {\n        country: inputs.country,\n        policyType: inputs.policyType,\n        carbonPriceUSD: parseFloat(inputs.carbonPriceUSD),\n        durationYears: parseInt(inputs.durationYears)\n      };\n      const response = await fetch(`${API_BASE_URL}/simulate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(requestBody)\n      });\n      const data = await response.json();\n      if (!response.ok || !data.success) {\n        // If API fails, use mock data\n        console.warn('API request failed, using mock data:', data.message || 'Unknown error');\n        setUseMockData(true);\n        setResults(mockSimulationResponse);\n      } else {\n        setUseMockData(false);\n        // Transform backend response to match our expected format\n        const transformedData = transformApiResponse(data);\n        setResults(transformedData);\n      }\n    } catch (error) {\n      console.error('Simulation error:', error);\n      // On network error, use mock data\n      setUseMockData(true);\n      setApiError('Cannot connect to server. Using mock data for demonstration.');\n      setResults(mockSimulationResponse);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const transformApiResponse = apiData => {\n    var _apiData$inputs, _apiData$inputs2, _apiData$inputs3, _apiData$inputs4, _apiData$predictions, _apiData$predictions2, _apiData$predictions3, _apiData$predictions4, _apiData$predictions5;\n    // Transform backend response to match frontend expected format\n    // This adapts the FastAPI response structure to our component expectations\n    return {\n      inputs: {\n        country: ((_apiData$inputs = apiData.inputs) === null || _apiData$inputs === void 0 ? void 0 : _apiData$inputs.country) || inputs.country,\n        policyType: ((_apiData$inputs2 = apiData.inputs) === null || _apiData$inputs2 === void 0 ? void 0 : _apiData$inputs2.policyType) || inputs.policyType,\n        carbonPriceUSD: ((_apiData$inputs3 = apiData.inputs) === null || _apiData$inputs3 === void 0 ? void 0 : _apiData$inputs3.carbonPriceUSD) || inputs.carbonPriceUSD,\n        durationYears: ((_apiData$inputs4 = apiData.inputs) === null || _apiData$inputs4 === void 0 ? void 0 : _apiData$inputs4.durationYears) || inputs.durationYears\n      },\n      predictions: {\n        emissionCoveragePct: ((_apiData$predictions = apiData.predictions) === null || _apiData$predictions === void 0 ? void 0 : _apiData$predictions.emissionCoveragePct) || ((_apiData$predictions2 = apiData.predictions) === null || _apiData$predictions2 === void 0 ? void 0 : _apiData$predictions2.coverage) || 0,\n        annualRevenueMillionUSD: ((_apiData$predictions3 = apiData.predictions) === null || _apiData$predictions3 === void 0 ? void 0 : _apiData$predictions3.annualRevenueMillionUSD) || ((_apiData$predictions4 = apiData.predictions) === null || _apiData$predictions4 === void 0 ? void 0 : _apiData$predictions4.revenue) || 0,\n        confidence: (_apiData$predictions5 = apiData.predictions) === null || _apiData$predictions5 === void 0 ? void 0 : _apiData$predictions5.confidence\n      },\n      countryContext: apiData.countryContext || {},\n      similarPolicies: apiData.similarPolicies || []\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container simulate-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-background\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cyber-earth-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cyberEarthImage,\n          alt: \"Cyber Earth\",\n          className: \"cyber-earth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-content\",\n        children: [/*#__PURE__*/_jsxDEV(InputPanel, {\n          inputs: inputs,\n          onInputChange: handleInputChange,\n          onSubmit: handleSubmit,\n          loading: loading,\n          errors: errors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), apiError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"api-error-notice\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: apiError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), useMockData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mock-data-notice\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u26A0\\uFE0F Using mock data for demonstration. Connect to backend API for real predictions.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), results && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"results-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"section-title\",\n              children: \"Simulation Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryCards, {\n              predictions: results.predictions,\n              countryContext: results.countryContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DisclaimerBox, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"charts-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(TimeSeriesChart, {\n                  durationYears: results.inputs.durationYears,\n                  predictions: results.predictions,\n                  yearStart: 2024\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(EnergyMixChart, {\n                  countryContext: results.countryContext\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(CO2DonutChart, {\n                  predictions: results.predictions,\n                  countryContext: results.countryContext\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this), results.similarPolicies && results.similarPolicies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"similar-policies-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(SimilarPoliciesPanel, {\n                similarPolicies: results.similarPolicies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)\n        }, void 0, false), !results && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-description\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Configure key policy settings, duration, carbon price, and region. Generate real-time projections of how your climate strategy will affect both the environment and revenue.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"After running the simulation, Eco-Impact AI displays clear insights on emission coverage, revenue predictions, and CO\\u2082 coverage, supported by interactive charts for deeper analysis.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n_s(Simulate, \"6ahislDbXdUxiBbLwnF6uSZlyP8=\", false, function () {\n  return [useNavigate];\n});\n_c = Simulate;\nexport default Simulate;\nvar _c;\n$RefreshReg$(_c, \"Simulate\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","cyberEarthImage","API_BASE_URL","mockSimulationResponse","InputPanel","SummaryCards","TimeSeriesChart","EnergyMixChart","CO2DonutChart","SimilarPoliciesPanel","DisclaimerBox","jsxDEV","_jsxDEV","Fragment","_Fragment","Simulate","_s","navigate","inputs","setInputs","country","policyType","carbonPriceUSD","durationYears","results","setResults","loading","setLoading","errors","setErrors","apiError","setApiError","useMockData","setUseMockData","isLoggedIn","setIsLoggedIn","token","localStorage","getItem","handleInputChange","e","name","value","target","prev","validateInputs","newErrors","trim","Object","keys","length","handleSubmit","requestBody","parseFloat","parseInt","response","fetch","method","headers","body","JSON","stringify","data","json","ok","success","console","warn","message","transformedData","transformApiResponse","error","apiData","_apiData$inputs","_apiData$inputs2","_apiData$inputs3","_apiData$inputs4","_apiData$predictions","_apiData$predictions2","_apiData$predictions3","_apiData$predictions4","_apiData$predictions5","predictions","emissionCoveragePct","coverage","annualRevenueMillionUSD","revenue","confidence","countryContext","similarPolicies","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onInputChange","onSubmit","yearStart","_c","$RefreshReg$"],"sources":["D:/Fyp/FYP-EcoImpact/frontend/src/pages/Simulate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport cyberEarthImage from '../images/cyberearth.png';\r\nimport { API_BASE_URL } from '../config/api';\r\nimport { mockSimulationResponse } from '../data/mockSimulationData';\r\nimport InputPanel from '../components/simulate/InputPanel';\r\nimport SummaryCards from '../components/simulate/SummaryCards';\r\nimport TimeSeriesChart from '../components/simulate/TimeSeriesChart';\r\nimport EnergyMixChart from '../components/simulate/EnergyMixChart';\r\nimport CO2DonutChart from '../components/simulate/CO2DonutChart';\r\nimport SimilarPoliciesPanel from '../components/simulate/SimilarPoliciesPanel';\r\nimport DisclaimerBox from '../components/simulate/DisclaimerBox';\r\n\r\nfunction Simulate() {\r\n  const navigate = useNavigate();\r\n  const [inputs, setInputs] = useState({\r\n    country: '',\r\n    policyType: 'CARBON_TAX',\r\n    carbonPriceUSD: '',\r\n    durationYears: 5\r\n  });\r\n  const [results, setResults] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [apiError, setApiError] = useState(null);\r\n  const [useMockData, setUseMockData] = useState(false);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    setIsLoggedIn(!!token);\r\n  }, []);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setInputs(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    // Clear errors when user types\r\n    if (errors[name]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n    setApiError(null);\r\n  };\r\n\r\n  const validateInputs = () => {\r\n    const newErrors = {};\r\n    \r\n    if (!inputs.country || inputs.country.trim() === '') {\r\n      newErrors.country = 'Country is required';\r\n    }\r\n    \r\n    if (!inputs.carbonPriceUSD || inputs.carbonPriceUSD <= 0) {\r\n      newErrors.carbonPriceUSD = 'Carbon price must be greater than 0';\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    // Check if user is logged in\r\n    if (!isLoggedIn) {\r\n      navigate('/signup');\r\n      return;\r\n    }\r\n\r\n    if (!validateInputs()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setApiError(null);\r\n    setResults(null);\r\n\r\n    try {\r\n      // Prepare request body matching API contract\r\n      const requestBody = {\r\n        country: inputs.country,\r\n        policyType: inputs.policyType,\r\n        carbonPriceUSD: parseFloat(inputs.carbonPriceUSD),\r\n        durationYears: parseInt(inputs.durationYears)\r\n      };\r\n\r\n      const response = await fetch(`${API_BASE_URL}/simulate`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify(requestBody)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok || !data.success) {\r\n        // If API fails, use mock data\r\n        console.warn('API request failed, using mock data:', data.message || 'Unknown error');\r\n        setUseMockData(true);\r\n        setResults(mockSimulationResponse);\r\n      } else {\r\n        setUseMockData(false);\r\n        // Transform backend response to match our expected format\r\n        const transformedData = transformApiResponse(data);\r\n        setResults(transformedData);\r\n      }\r\n    } catch (error) {\r\n      console.error('Simulation error:', error);\r\n      // On network error, use mock data\r\n      setUseMockData(true);\r\n      setApiError('Cannot connect to server. Using mock data for demonstration.');\r\n      setResults(mockSimulationResponse);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const transformApiResponse = (apiData) => {\r\n    // Transform backend response to match frontend expected format\r\n    // This adapts the FastAPI response structure to our component expectations\r\n    return {\r\n      inputs: {\r\n        country: apiData.inputs?.country || inputs.country,\r\n        policyType: apiData.inputs?.policyType || inputs.policyType,\r\n        carbonPriceUSD: apiData.inputs?.carbonPriceUSD || inputs.carbonPriceUSD,\r\n        durationYears: apiData.inputs?.durationYears || inputs.durationYears\r\n      },\r\n      predictions: {\r\n        emissionCoveragePct: apiData.predictions?.emissionCoveragePct || \r\n                           apiData.predictions?.coverage || 0,\r\n        annualRevenueMillionUSD: apiData.predictions?.annualRevenueMillionUSD || \r\n                               apiData.predictions?.revenue || 0,\r\n        confidence: apiData.predictions?.confidence\r\n      },\r\n      countryContext: apiData.countryContext || {},\r\n      similarPolicies: apiData.similarPolicies || []\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-container simulate-page\">\r\n      <div className=\"page-background\">\r\n        <div className=\"cyber-earth-container\">\r\n          <img src={cyberEarthImage} alt=\"Cyber Earth\" className=\"cyber-earth\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"page-content-wrapper\">\r\n        <div className=\"page-content\">\r\n          <InputPanel\r\n            inputs={inputs}\r\n            onInputChange={handleInputChange}\r\n            onSubmit={handleSubmit}\r\n            loading={loading}\r\n            errors={errors}\r\n          />\r\n\r\n          {apiError && (\r\n            <div className=\"api-error-notice\">\r\n              <p>{apiError}</p>\r\n            </div>\r\n          )}\r\n\r\n          {useMockData && (\r\n            <div className=\"mock-data-notice\">\r\n              <p>⚠️ Using mock data for demonstration. Connect to backend API for real predictions.</p>\r\n            </div>\r\n          )}\r\n\r\n          {results && (\r\n            <>\r\n              <div className=\"results-section\">\r\n                <h2 className=\"section-title\">Simulation Results</h2>\r\n                \r\n                <SummaryCards\r\n                  predictions={results.predictions}\r\n                  countryContext={results.countryContext}\r\n                />\r\n\r\n                <DisclaimerBox />\r\n\r\n                <div className=\"charts-grid\">\r\n                  <div className=\"chart-wrapper\">\r\n                    <TimeSeriesChart\r\n                      durationYears={results.inputs.durationYears}\r\n                      predictions={results.predictions}\r\n                      yearStart={2024}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"chart-wrapper\">\r\n                    <EnergyMixChart countryContext={results.countryContext} />\r\n                  </div>\r\n\r\n                  <div className=\"chart-wrapper\">\r\n                    <CO2DonutChart\r\n                      predictions={results.predictions}\r\n                      countryContext={results.countryContext}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {results.similarPolicies && results.similarPolicies.length > 0 && (\r\n                  <div className=\"similar-policies-wrapper\">\r\n                    <SimilarPoliciesPanel similarPolicies={results.similarPolicies} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {!results && (\r\n            <div className=\"page-description\">\r\n              <p>\r\n                Configure key policy settings, duration, carbon price, and region. \r\n                Generate real-time projections of how your climate strategy will affect both the environment and revenue.\r\n              </p>\r\n              <p>\r\n                After running the simulation, Eco-Impact AI displays clear insights on emission coverage, \r\n                revenue predictions, and CO₂ coverage, supported by interactive charts for deeper analysis.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Simulate;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}