{"ast":null,"code":"var _jsxFileName = \"D:\\\\Fyp\\\\FYP-EcoImpact\\\\frontend\\\\src\\\\pages\\\\Simulate.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport cyberEarthImage from '../images/cyberearth.png';\nimport { apiPost, getToken } from '../utils/api';\nimport { mockSimulationResponse } from '../data/mockSimulationData';\nimport InputPanel from '../components/simulate/InputPanel';\nimport SummaryCards from '../components/simulate/SummaryCards';\nimport TimeSeriesChart from '../components/simulate/TimeSeriesChart';\nimport EnergyMixChart from '../components/simulate/EnergyMixChart';\nimport CO2DonutChart from '../components/simulate/CO2DonutChart';\nimport SimilarPoliciesPanel from '../components/simulate/SimilarPoliciesPanel';\nimport DisclaimerBox from '../components/simulate/DisclaimerBox';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Simulate() {\n  _s();\n  const navigate = useNavigate();\n  const [inputs, setInputs] = useState({\n    country: '',\n    policyType: 'CARBON_TAX',\n    carbonPriceUSD: '',\n    durationYears: 5\n  });\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [apiError, setApiError] = useState(null);\n  const [useMockData, setUseMockData] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    setIsLoggedIn(!!token);\n  }, []);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputs(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Clear errors when user types\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n    setApiError(null);\n  };\n  const validateInputs = () => {\n    const newErrors = {};\n    if (!inputs.country || inputs.country.trim() === '') {\n      newErrors.country = 'Country is required';\n    }\n    if (!inputs.carbonPriceUSD || inputs.carbonPriceUSD <= 0) {\n      newErrors.carbonPriceUSD = 'Carbon price must be greater than 0';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async () => {\n    // Check if user is logged in\n    const token = getToken();\n    if (!token || !isLoggedIn) {\n      setApiError('Please login to run simulation.');\n      // Optionally redirect to login after 2 seconds\n      setTimeout(() => {\n        navigate('/login');\n      }, 2000);\n      return;\n    }\n    if (!validateInputs()) {\n      return;\n    }\n    setLoading(true);\n    setApiError(null);\n    setResults(null);\n    setUseMockData(false);\n    try {\n      // Prepare request body matching FastAPI contract\n      const requestBody = {\n        country: inputs.country,\n        policy_type: inputs.policyType === 'CARBON_TAX' ? 'Carbon Tax' : 'ETS',\n        carbon_price: parseFloat(inputs.carbonPriceUSD),\n        duration: parseInt(inputs.durationYears),\n        year: 2024\n      };\n      const response = await apiPost('/predict/all', requestBody);\n      if (!response.ok) {\n        // Handle error response\n        let errorMessage = 'Failed to get prediction';\n        try {\n          const errorData = await response.json();\n          errorMessage = errorData.detail || errorData.message || errorMessage;\n        } catch (e) {\n          // If response is not JSON, use status text\n          errorMessage = response.statusText || errorMessage;\n        }\n        throw new Error(errorMessage);\n      }\n      const data = await response.json();\n\n      // Transform FastAPI response to match frontend expected format\n      const transformedData = transformApiResponse(data);\n      setResults(transformedData);\n      setUseMockData(false);\n      setApiError(null);\n    } catch (error) {\n      console.error('Simulation error:', error);\n      setApiError(error.message || 'Failed to connect to API. Please check if the backend is running.');\n      // Don't show mock data automatically - let user know there's an error\n      setUseMockData(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const transformApiResponse = apiData => {\n    // Backend should already return the correct format, but ensure it matches\n    return {\n      inputs: apiData.inputs || {\n        country: inputs.country,\n        policyType: inputs.policyType,\n        carbonPriceUSD: inputs.carbonPriceUSD,\n        durationYears: inputs.durationYears\n      },\n      predictions: apiData.predictions || {\n        emissionCoveragePct: 0,\n        annualRevenueMillionUSD: 0\n      },\n      countryContext: apiData.countryContext || {},\n      similarPolicies: apiData.similarPolicies || []\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container simulate-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-background\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cyber-earth-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cyberEarthImage,\n          alt: \"Cyber Earth\",\n          className: \"cyber-earth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-content\",\n        children: [/*#__PURE__*/_jsxDEV(InputPanel, {\n          inputs: inputs,\n          onInputChange: handleInputChange,\n          onSubmit: handleSubmit,\n          loading: loading,\n          errors: errors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), apiError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"api-error-notice\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: apiError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), useMockData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mock-data-notice\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u26A0\\uFE0F Using mock data for demonstration. Connect to backend API for real predictions.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), results && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"results-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"section-title\",\n              children: \"Simulation Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryCards, {\n              predictions: results.predictions,\n              countryContext: results.countryContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DisclaimerBox, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"charts-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(TimeSeriesChart, {\n                  durationYears: results.inputs.durationYears,\n                  predictions: results.predictions,\n                  yearStart: 2024\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(EnergyMixChart, {\n                  countryContext: results.countryContext\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(CO2DonutChart, {\n                  predictions: results.predictions,\n                  countryContext: results.countryContext\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), results.similarPolicies && results.similarPolicies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"similar-policies-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(SimilarPoliciesPanel, {\n                similarPolicies: results.similarPolicies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)\n        }, void 0, false), !results && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-description\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Configure key policy settings, duration, carbon price, and region. Generate real-time projections of how your climate strategy will affect both the environment and revenue.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"After running the simulation, Eco-Impact AI displays clear insights on emission coverage, revenue predictions, and CO\\u2082 coverage, supported by interactive charts for deeper analysis.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n_s(Simulate, \"6ahislDbXdUxiBbLwnF6uSZlyP8=\", false, function () {\n  return [useNavigate];\n});\n_c = Simulate;\nexport default Simulate;\nvar _c;\n$RefreshReg$(_c, \"Simulate\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","cyberEarthImage","apiPost","getToken","mockSimulationResponse","InputPanel","SummaryCards","TimeSeriesChart","EnergyMixChart","CO2DonutChart","SimilarPoliciesPanel","DisclaimerBox","jsxDEV","_jsxDEV","Fragment","_Fragment","Simulate","_s","navigate","inputs","setInputs","country","policyType","carbonPriceUSD","durationYears","results","setResults","loading","setLoading","errors","setErrors","apiError","setApiError","useMockData","setUseMockData","isLoggedIn","setIsLoggedIn","token","localStorage","getItem","handleInputChange","e","name","value","target","prev","validateInputs","newErrors","trim","Object","keys","length","handleSubmit","setTimeout","requestBody","policy_type","carbon_price","parseFloat","duration","parseInt","year","response","ok","errorMessage","errorData","json","detail","message","statusText","Error","data","transformedData","transformApiResponse","error","console","apiData","predictions","emissionCoveragePct","annualRevenueMillionUSD","countryContext","similarPolicies","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onInputChange","onSubmit","yearStart","_c","$RefreshReg$"],"sources":["D:/Fyp/FYP-EcoImpact/frontend/src/pages/Simulate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport cyberEarthImage from '../images/cyberearth.png';\r\nimport { apiPost, getToken } from '../utils/api';\r\nimport { mockSimulationResponse } from '../data/mockSimulationData';\r\nimport InputPanel from '../components/simulate/InputPanel';\r\nimport SummaryCards from '../components/simulate/SummaryCards';\r\nimport TimeSeriesChart from '../components/simulate/TimeSeriesChart';\r\nimport EnergyMixChart from '../components/simulate/EnergyMixChart';\r\nimport CO2DonutChart from '../components/simulate/CO2DonutChart';\r\nimport SimilarPoliciesPanel from '../components/simulate/SimilarPoliciesPanel';\r\nimport DisclaimerBox from '../components/simulate/DisclaimerBox';\r\n\r\nfunction Simulate() {\r\n  const navigate = useNavigate();\r\n  const [inputs, setInputs] = useState({\r\n    country: '',\r\n    policyType: 'CARBON_TAX',\r\n    carbonPriceUSD: '',\r\n    durationYears: 5\r\n  });\r\n  const [results, setResults] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [apiError, setApiError] = useState(null);\r\n  const [useMockData, setUseMockData] = useState(false);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    setIsLoggedIn(!!token);\r\n  }, []);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setInputs(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    // Clear errors when user types\r\n    if (errors[name]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n    setApiError(null);\r\n  };\r\n\r\n  const validateInputs = () => {\r\n    const newErrors = {};\r\n    \r\n    if (!inputs.country || inputs.country.trim() === '') {\r\n      newErrors.country = 'Country is required';\r\n    }\r\n    \r\n    if (!inputs.carbonPriceUSD || inputs.carbonPriceUSD <= 0) {\r\n      newErrors.carbonPriceUSD = 'Carbon price must be greater than 0';\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    // Check if user is logged in\r\n    const token = getToken();\r\n    if (!token || !isLoggedIn) {\r\n      setApiError('Please login to run simulation.');\r\n      // Optionally redirect to login after 2 seconds\r\n      setTimeout(() => {\r\n        navigate('/login');\r\n      }, 2000);\r\n      return;\r\n    }\r\n\r\n    if (!validateInputs()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setApiError(null);\r\n    setResults(null);\r\n    setUseMockData(false);\r\n\r\n    try {\r\n      // Prepare request body matching FastAPI contract\r\n      const requestBody = {\r\n        country: inputs.country,\r\n        policy_type: inputs.policyType === 'CARBON_TAX' ? 'Carbon Tax' : 'ETS',\r\n        carbon_price: parseFloat(inputs.carbonPriceUSD),\r\n        duration: parseInt(inputs.durationYears),\r\n        year: 2024\r\n      };\r\n\r\n      const response = await apiPost('/predict/all', requestBody);\r\n\r\n      if (!response.ok) {\r\n        // Handle error response\r\n        let errorMessage = 'Failed to get prediction';\r\n        try {\r\n          const errorData = await response.json();\r\n          errorMessage = errorData.detail || errorData.message || errorMessage;\r\n        } catch (e) {\r\n          // If response is not JSON, use status text\r\n          errorMessage = response.statusText || errorMessage;\r\n        }\r\n        \r\n        throw new Error(errorMessage);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      // Transform FastAPI response to match frontend expected format\r\n      const transformedData = transformApiResponse(data);\r\n      setResults(transformedData);\r\n      setUseMockData(false);\r\n      setApiError(null);\r\n    } catch (error) {\r\n      console.error('Simulation error:', error);\r\n      setApiError(error.message || 'Failed to connect to API. Please check if the backend is running.');\r\n      // Don't show mock data automatically - let user know there's an error\r\n      setUseMockData(false);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const transformApiResponse = (apiData) => {\r\n    // Backend should already return the correct format, but ensure it matches\r\n    return {\r\n      inputs: apiData.inputs || {\r\n        country: inputs.country,\r\n        policyType: inputs.policyType,\r\n        carbonPriceUSD: inputs.carbonPriceUSD,\r\n        durationYears: inputs.durationYears\r\n      },\r\n      predictions: apiData.predictions || {\r\n        emissionCoveragePct: 0,\r\n        annualRevenueMillionUSD: 0\r\n      },\r\n      countryContext: apiData.countryContext || {},\r\n      similarPolicies: apiData.similarPolicies || []\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-container simulate-page\">\r\n      <div className=\"page-background\">\r\n        <div className=\"cyber-earth-container\">\r\n          <img src={cyberEarthImage} alt=\"Cyber Earth\" className=\"cyber-earth\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"page-content-wrapper\">\r\n        <div className=\"page-content\">\r\n          <InputPanel\r\n            inputs={inputs}\r\n            onInputChange={handleInputChange}\r\n            onSubmit={handleSubmit}\r\n            loading={loading}\r\n            errors={errors}\r\n          />\r\n\r\n          {apiError && (\r\n            <div className=\"api-error-notice\">\r\n              <p>{apiError}</p>\r\n            </div>\r\n          )}\r\n\r\n          {useMockData && (\r\n            <div className=\"mock-data-notice\">\r\n              <p>⚠️ Using mock data for demonstration. Connect to backend API for real predictions.</p>\r\n            </div>\r\n          )}\r\n\r\n          {results && (\r\n            <>\r\n              <div className=\"results-section\">\r\n                <h2 className=\"section-title\">Simulation Results</h2>\r\n                \r\n                <SummaryCards\r\n                  predictions={results.predictions}\r\n                  countryContext={results.countryContext}\r\n                />\r\n\r\n                <DisclaimerBox />\r\n\r\n                <div className=\"charts-grid\">\r\n                  <div className=\"chart-wrapper\">\r\n                    <TimeSeriesChart\r\n                      durationYears={results.inputs.durationYears}\r\n                      predictions={results.predictions}\r\n                      yearStart={2024}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"chart-wrapper\">\r\n                    <EnergyMixChart countryContext={results.countryContext} />\r\n                  </div>\r\n\r\n                  <div className=\"chart-wrapper\">\r\n                    <CO2DonutChart\r\n                      predictions={results.predictions}\r\n                      countryContext={results.countryContext}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {results.similarPolicies && results.similarPolicies.length > 0 && (\r\n                  <div className=\"similar-policies-wrapper\">\r\n                    <SimilarPoliciesPanel similarPolicies={results.similarPolicies} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {!results && (\r\n            <div className=\"page-description\">\r\n              <p>\r\n                Configure key policy settings, duration, carbon price, and region. \r\n                Generate real-time projections of how your climate strategy will affect both the environment and revenue.\r\n              </p>\r\n              <p>\r\n                After running the simulation, Eco-Impact AI displays clear insights on emission coverage, \r\n                revenue predictions, and CO₂ coverage, supported by interactive charts for deeper analysis.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Simulate;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,eAAe,MAAM,0BAA0B;AACtD,SAASC,OAAO,EAAEC,QAAQ,QAAQ,cAAc;AAChD,SAASC,sBAAsB,QAAQ,4BAA4B;AACnE,OAAOC,UAAU,MAAM,mCAAmC;AAC1D,OAAOC,YAAY,MAAM,qCAAqC;AAC9D,OAAOC,eAAe,MAAM,wCAAwC;AACpE,OAAOC,cAAc,MAAM,uCAAuC;AAClE,OAAOC,aAAa,MAAM,sCAAsC;AAChE,OAAOC,oBAAoB,MAAM,6CAA6C;AAC9E,OAAOC,aAAa,MAAM,sCAAsC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjE,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAMC,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACmB,MAAM,EAAEC,SAAS,CAAC,GAAGtB,QAAQ,CAAC;IACnCuB,OAAO,EAAE,EAAE;IACXC,UAAU,EAAE,YAAY;IACxBC,cAAc,EAAE,EAAE;IAClBC,aAAa,EAAE;EACjB,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC6B,OAAO,EAAEC,UAAU,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC+B,MAAM,EAAEC,SAAS,CAAC,GAAGhC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAACiC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACmC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACqC,UAAU,EAAEC,aAAa,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EAEnDC,SAAS,CAAC,MAAM;IACd,MAAMsC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3CH,aAAa,CAAC,CAAC,CAACC,KAAK,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCxB,SAAS,CAACyB,IAAI,KAAK;MACjB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;IACH;IACA,IAAId,MAAM,CAACa,IAAI,CAAC,EAAE;MAChBZ,SAAS,CAACe,IAAI,KAAK;QACjB,GAAGA,IAAI;QACP,CAACH,IAAI,GAAG;MACV,CAAC,CAAC,CAAC;IACL;IACAV,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMc,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMC,SAAS,GAAG,CAAC,CAAC;IAEpB,IAAI,CAAC5B,MAAM,CAACE,OAAO,IAAIF,MAAM,CAACE,OAAO,CAAC2B,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MACnDD,SAAS,CAAC1B,OAAO,GAAG,qBAAqB;IAC3C;IAEA,IAAI,CAACF,MAAM,CAACI,cAAc,IAAIJ,MAAM,CAACI,cAAc,IAAI,CAAC,EAAE;MACxDwB,SAAS,CAACxB,cAAc,GAAG,qCAAqC;IAClE;IAEAO,SAAS,CAACiB,SAAS,CAAC;IACpB,OAAOE,MAAM,CAACC,IAAI,CAACH,SAAS,CAAC,CAACI,MAAM,KAAK,CAAC;EAC5C,CAAC;EAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B;IACA,MAAMf,KAAK,GAAGlC,QAAQ,CAAC,CAAC;IACxB,IAAI,CAACkC,KAAK,IAAI,CAACF,UAAU,EAAE;MACzBH,WAAW,CAAC,iCAAiC,CAAC;MAC9C;MACAqB,UAAU,CAAC,MAAM;QACfnC,QAAQ,CAAC,QAAQ,CAAC;MACpB,CAAC,EAAE,IAAI,CAAC;MACR;IACF;IAEA,IAAI,CAAC4B,cAAc,CAAC,CAAC,EAAE;MACrB;IACF;IAEAlB,UAAU,CAAC,IAAI,CAAC;IAChBI,WAAW,CAAC,IAAI,CAAC;IACjBN,UAAU,CAAC,IAAI,CAAC;IAChBQ,cAAc,CAAC,KAAK,CAAC;IAErB,IAAI;MACF;MACA,MAAMoB,WAAW,GAAG;QAClBjC,OAAO,EAAEF,MAAM,CAACE,OAAO;QACvBkC,WAAW,EAAEpC,MAAM,CAACG,UAAU,KAAK,YAAY,GAAG,YAAY,GAAG,KAAK;QACtEkC,YAAY,EAAEC,UAAU,CAACtC,MAAM,CAACI,cAAc,CAAC;QAC/CmC,QAAQ,EAAEC,QAAQ,CAACxC,MAAM,CAACK,aAAa,CAAC;QACxCoC,IAAI,EAAE;MACR,CAAC;MAED,MAAMC,QAAQ,GAAG,MAAM3D,OAAO,CAAC,cAAc,EAAEoD,WAAW,CAAC;MAE3D,IAAI,CAACO,QAAQ,CAACC,EAAE,EAAE;QAChB;QACA,IAAIC,YAAY,GAAG,0BAA0B;QAC7C,IAAI;UACF,MAAMC,SAAS,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;UACvCF,YAAY,GAAGC,SAAS,CAACE,MAAM,IAAIF,SAAS,CAACG,OAAO,IAAIJ,YAAY;QACtE,CAAC,CAAC,OAAOtB,CAAC,EAAE;UACV;UACAsB,YAAY,GAAGF,QAAQ,CAACO,UAAU,IAAIL,YAAY;QACpD;QAEA,MAAM,IAAIM,KAAK,CAACN,YAAY,CAAC;MAC/B;MAEA,MAAMO,IAAI,GAAG,MAAMT,QAAQ,CAACI,IAAI,CAAC,CAAC;;MAElC;MACA,MAAMM,eAAe,GAAGC,oBAAoB,CAACF,IAAI,CAAC;MAClD5C,UAAU,CAAC6C,eAAe,CAAC;MAC3BrC,cAAc,CAAC,KAAK,CAAC;MACrBF,WAAW,CAAC,IAAI,CAAC;IACnB,CAAC,CAAC,OAAOyC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzCzC,WAAW,CAACyC,KAAK,CAACN,OAAO,IAAI,mEAAmE,CAAC;MACjG;MACAjC,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,SAAS;MACRN,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM4C,oBAAoB,GAAIG,OAAO,IAAK;IACxC;IACA,OAAO;MACLxD,MAAM,EAAEwD,OAAO,CAACxD,MAAM,IAAI;QACxBE,OAAO,EAAEF,MAAM,CAACE,OAAO;QACvBC,UAAU,EAAEH,MAAM,CAACG,UAAU;QAC7BC,cAAc,EAAEJ,MAAM,CAACI,cAAc;QACrCC,aAAa,EAAEL,MAAM,CAACK;MACxB,CAAC;MACDoD,WAAW,EAAED,OAAO,CAACC,WAAW,IAAI;QAClCC,mBAAmB,EAAE,CAAC;QACtBC,uBAAuB,EAAE;MAC3B,CAAC;MACDC,cAAc,EAAEJ,OAAO,CAACI,cAAc,IAAI,CAAC,CAAC;MAC5CC,eAAe,EAAEL,OAAO,CAACK,eAAe,IAAI;IAC9C,CAAC;EACH,CAAC;EAED,oBACEnE,OAAA;IAAKoE,SAAS,EAAC,8BAA8B;IAAAC,QAAA,gBAC3CrE,OAAA;MAAKoE,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9BrE,OAAA;QAAKoE,SAAS,EAAC,uBAAuB;QAAAC,QAAA,eACpCrE,OAAA;UAAKsE,GAAG,EAAElF,eAAgB;UAACmF,GAAG,EAAC,aAAa;UAACH,SAAS,EAAC;QAAa;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACN3E,OAAA;MAAKoE,SAAS,EAAC,sBAAsB;MAAAC,QAAA,eACnCrE,OAAA;QAAKoE,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BrE,OAAA,CAACR,UAAU;UACTc,MAAM,EAAEA,MAAO;UACfsE,aAAa,EAAEjD,iBAAkB;UACjCkD,QAAQ,EAAEtC,YAAa;UACvBzB,OAAO,EAAEA,OAAQ;UACjBE,MAAM,EAAEA;QAAO;UAAAwD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,EAEDzD,QAAQ,iBACPlB,OAAA;UAAKoE,SAAS,EAAC,kBAAkB;UAAAC,QAAA,eAC/BrE,OAAA;YAAAqE,QAAA,EAAInD;UAAQ;YAAAsD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CACN,EAEAvD,WAAW,iBACVpB,OAAA;UAAKoE,SAAS,EAAC,kBAAkB;UAAAC,QAAA,eAC/BrE,OAAA;YAAAqE,QAAA,EAAG;UAAkF;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtF,CACN,EAEA/D,OAAO,iBACNZ,OAAA,CAAAE,SAAA;UAAAmE,QAAA,eACErE,OAAA;YAAKoE,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BrE,OAAA;cAAIoE,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAkB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAErD3E,OAAA,CAACP,YAAY;cACXsE,WAAW,EAAEnD,OAAO,CAACmD,WAAY;cACjCG,cAAc,EAAEtD,OAAO,CAACsD;YAAe;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC,CAAC,eAEF3E,OAAA,CAACF,aAAa;cAAA0E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAEjB3E,OAAA;cAAKoE,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAC1BrE,OAAA;gBAAKoE,SAAS,EAAC,eAAe;gBAAAC,QAAA,eAC5BrE,OAAA,CAACN,eAAe;kBACdiB,aAAa,EAAEC,OAAO,CAACN,MAAM,CAACK,aAAc;kBAC5CoD,WAAW,EAAEnD,OAAO,CAACmD,WAAY;kBACjCe,SAAS,EAAE;gBAAK;kBAAAN,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjB;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAEN3E,OAAA;gBAAKoE,SAAS,EAAC,eAAe;gBAAAC,QAAA,eAC5BrE,OAAA,CAACL,cAAc;kBAACuE,cAAc,EAAEtD,OAAO,CAACsD;gBAAe;kBAAAM,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvD,CAAC,eAEN3E,OAAA;gBAAKoE,SAAS,EAAC,eAAe;gBAAAC,QAAA,eAC5BrE,OAAA,CAACJ,aAAa;kBACZmE,WAAW,EAAEnD,OAAO,CAACmD,WAAY;kBACjCG,cAAc,EAAEtD,OAAO,CAACsD;gBAAe;kBAAAM,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EAEL/D,OAAO,CAACuD,eAAe,IAAIvD,OAAO,CAACuD,eAAe,CAAC7B,MAAM,GAAG,CAAC,iBAC5DtC,OAAA;cAAKoE,SAAS,EAAC,0BAA0B;cAAAC,QAAA,eACvCrE,OAAA,CAACH,oBAAoB;gBAACsE,eAAe,EAAEvD,OAAO,CAACuD;cAAgB;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/D,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC,gBACN,CACH,EAEA,CAAC/D,OAAO,iBACPZ,OAAA;UAAKoE,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BrE,OAAA;YAAAqE,QAAA,EAAG;UAGH;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJ3E,OAAA;YAAAqE,QAAA,EAAG;UAGH;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvE,EAAA,CA5NQD,QAAQ;EAAA,QACEhB,WAAW;AAAA;AAAA4F,EAAA,GADrB5E,QAAQ;AA8NjB,eAAeA,QAAQ;AAAC,IAAA4E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}