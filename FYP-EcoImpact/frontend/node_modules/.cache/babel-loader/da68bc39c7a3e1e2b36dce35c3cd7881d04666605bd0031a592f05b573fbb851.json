{"ast":null,"code":"var _jsxFileName = \"D:\\\\Fyp\\\\FYP-EcoImpact\\\\frontend\\\\src\\\\components\\\\compare\\\\CompareGraphs.js\";\nimport React from 'react';\nimport ComparisonTable from './ComparisonTable';\nimport ComparativeChart from './ComparativeChart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CompareGraphs({\n  simulations,\n  onBack\n}) {\n  if (!simulations || simulations.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-graphs-empty\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No simulations selected for comparison.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 9\n      }, this), onBack && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-to-compare-btn\",\n        onClick: onBack,\n        children: \"Back to Table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Prepare data for comparative charts\n  // Extract yearly predictions from each simulation\n  const prepareChartData = (dataKey, label, unit = '') => {\n    return simulations.map((sim, index) => {\n      const {\n        inputs,\n        yearlyPredictions\n      } = sim;\n      const country = (inputs === null || inputs === void 0 ? void 0 : inputs.country) || 'Unknown';\n      const policyType = (inputs === null || inputs === void 0 ? void 0 : inputs.policyType) === 'CARBON_TAX' ? 'Carbon Tax' : 'ETS';\n\n      // Extract yearly data from yearlyPredictions if available\n      const yearlyData = yearlyPredictions ? yearlyPredictions.map(yp => ({\n        year: yp.year,\n        [dataKey]: yp[dataKey] !== null && yp[dataKey] !== undefined ? yp[dataKey] : null\n      })) : null;\n      return {\n        label: `${country} - ${policyType}`,\n        country,\n        policyType,\n        yearlyData: yearlyData && yearlyData.length > 0 ? yearlyData : null\n      };\n    }).filter(sim => sim.yearlyData !== null); // Only include simulations with data\n  };\n\n  // GDP Impact data (from gdp_impact in yearly predictions)\n  const gdpImpactData = prepareChartData('gdp_impact', 'GDP Impact', '%');\n\n  // CO2 Emissions data (from co2_reduction_percent in yearly predictions - stored as million tons)\n  const co2EmissionsData = prepareChartData('co2_reduction_percent', 'CO₂ Covered', 'M tons');\n\n  // Employment Impact - not available in current backend, will be empty\n  const employmentImpactData = prepareChartData('employment_impact', 'Employment Impact', '%');\n\n  // Cost of Living - not available in current backend, will be empty\n  const costOfLivingData = prepareChartData('cost_of_living_change', 'Cost of Living Change', '%');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"compare-graphs-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-graphs-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"compare-graphs-title\",\n        children: [\"Comparative Analysis (\", simulations.length, \" policies)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), onBack && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-to-compare-btn\",\n        onClick: onBack,\n        children: \"Back to Table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-chart-group\",\n      style: {\n        marginBottom: '40px'\n      },\n      children: /*#__PURE__*/_jsxDEV(ComparisonTable, {\n        simulations: simulations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), gdpImpactData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-chart-group\",\n      children: /*#__PURE__*/_jsxDEV(ComparativeChart, {\n        title: \"GDP Impact Comparison\",\n        data: gdpImpactData,\n        yAxisLabel: \"GDP Impact (%)\",\n        dataKey: \"gdp_impact\",\n        unit: \"%\",\n        noDataMessage: \"GDP impact data not available for comparison\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), co2EmissionsData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-chart-group\",\n      children: /*#__PURE__*/_jsxDEV(ComparativeChart, {\n        title: \"CO\\u2082 Covered Comparison (Time Series)\",\n        data: co2EmissionsData,\n        yAxisLabel: \"CO\\u2082 Covered (M tons)\",\n        dataKey: \"co2_reduction_percent\",\n        unit: \"M tons\",\n        noDataMessage: \"CO\\u2082 emissions data not available for comparison\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), employmentImpactData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-chart-group\",\n      children: /*#__PURE__*/_jsxDEV(ComparativeChart, {\n        title: \"Employment Impact Comparison\",\n        data: employmentImpactData,\n        yAxisLabel: \"Employment Impact (%)\",\n        dataKey: \"employment_impact\",\n        unit: \"%\",\n        noDataMessage: \"Employment impact data not available for comparison\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), costOfLivingData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-chart-group\",\n      children: /*#__PURE__*/_jsxDEV(ComparativeChart, {\n        title: \"Cost of Living Change Comparison\",\n        data: costOfLivingData,\n        yAxisLabel: \"Cost of Living Change (%)\",\n        dataKey: \"cost_of_living_change\",\n        unit: \"%\",\n        noDataMessage: \"Cost of living data not available for comparison\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_c = CompareGraphs;\nexport default CompareGraphs;\nvar _c;\n$RefreshReg$(_c, \"CompareGraphs\");","map":{"version":3,"names":["React","ComparisonTable","ComparativeChart","jsxDEV","_jsxDEV","CompareGraphs","simulations","onBack","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","prepareChartData","dataKey","label","unit","map","sim","index","inputs","yearlyPredictions","country","policyType","yearlyData","yp","year","undefined","filter","gdpImpactData","co2EmissionsData","employmentImpactData","costOfLivingData","style","marginBottom","title","data","yAxisLabel","noDataMessage","_c","$RefreshReg$"],"sources":["D:/Fyp/FYP-EcoImpact/frontend/src/components/compare/CompareGraphs.js"],"sourcesContent":["import React from 'react';\nimport ComparisonTable from './ComparisonTable';\nimport ComparativeChart from './ComparativeChart';\n\nfunction CompareGraphs({ simulations, onBack }) {\n  if (!simulations || simulations.length === 0) {\n    return (\n      <div className=\"compare-graphs-empty\">\n        <p>No simulations selected for comparison.</p>\n        {onBack && (\n          <button \n            className=\"back-to-compare-btn\"\n            onClick={onBack}\n          >\n            Back to Table\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  // Prepare data for comparative charts\n  // Extract yearly predictions from each simulation\n  const prepareChartData = (dataKey, label, unit = '') => {\n    return simulations.map((sim, index) => {\n      const { inputs, yearlyPredictions } = sim;\n      const country = inputs?.country || 'Unknown';\n      const policyType = inputs?.policyType === 'CARBON_TAX' ? 'Carbon Tax' : 'ETS';\n      \n      // Extract yearly data from yearlyPredictions if available\n      const yearlyData = yearlyPredictions ? yearlyPredictions.map(yp => ({\n        year: yp.year,\n        [dataKey]: yp[dataKey] !== null && yp[dataKey] !== undefined ? yp[dataKey] : null\n      })) : null;\n      \n      return {\n        label: `${country} - ${policyType}`,\n        country,\n        policyType,\n        yearlyData: yearlyData && yearlyData.length > 0 ? yearlyData : null\n      };\n    }).filter(sim => sim.yearlyData !== null); // Only include simulations with data\n  };\n\n  // GDP Impact data (from gdp_impact in yearly predictions)\n  const gdpImpactData = prepareChartData('gdp_impact', 'GDP Impact', '%');\n  \n  // CO2 Emissions data (from co2_reduction_percent in yearly predictions - stored as million tons)\n  const co2EmissionsData = prepareChartData('co2_reduction_percent', 'CO₂ Covered', 'M tons');\n  \n  // Employment Impact - not available in current backend, will be empty\n  const employmentImpactData = prepareChartData('employment_impact', 'Employment Impact', '%');\n  \n  // Cost of Living - not available in current backend, will be empty\n  const costOfLivingData = prepareChartData('cost_of_living_change', 'Cost of Living Change', '%');\n\n  return (\n    <div className=\"compare-graphs-container\">\n      <div className=\"compare-graphs-header\">\n        <h2 className=\"compare-graphs-title\">Comparative Analysis ({simulations.length} policies)</h2>\n        {onBack && (\n          <button \n            className=\"back-to-compare-btn\"\n            onClick={onBack}\n          >\n            Back to Table\n          </button>\n        )}\n      </div>\n\n      {/* Compact Comparison Table */}\n      <div className=\"compare-chart-group\" style={{ marginBottom: '40px' }}>\n        <ComparisonTable simulations={simulations} />\n      </div>\n\n      {/* GDP Impact Comparison */}\n      {gdpImpactData.length > 0 && (\n        <div className=\"compare-chart-group\">\n          <ComparativeChart\n            title=\"GDP Impact Comparison\"\n            data={gdpImpactData}\n            yAxisLabel=\"GDP Impact (%)\"\n            dataKey=\"gdp_impact\"\n            unit=\"%\"\n            noDataMessage=\"GDP impact data not available for comparison\"\n          />\n        </div>\n      )}\n\n      {/* CO2 Emissions Comparison */}\n      {co2EmissionsData.length > 0 && (\n        <div className=\"compare-chart-group\">\n          <ComparativeChart\n            title=\"CO₂ Covered Comparison (Time Series)\"\n            data={co2EmissionsData}\n            yAxisLabel=\"CO₂ Covered (M tons)\"\n            dataKey=\"co2_reduction_percent\"\n            unit=\"M tons\"\n            noDataMessage=\"CO₂ emissions data not available for comparison\"\n          />\n        </div>\n      )}\n\n      {/* Employment Impact Comparison - Only show if data available */}\n      {employmentImpactData.length > 0 && (\n        <div className=\"compare-chart-group\">\n          <ComparativeChart\n            title=\"Employment Impact Comparison\"\n            data={employmentImpactData}\n            yAxisLabel=\"Employment Impact (%)\"\n            dataKey=\"employment_impact\"\n            unit=\"%\"\n            noDataMessage=\"Employment impact data not available for comparison\"\n          />\n        </div>\n      )}\n\n      {/* Cost of Living Comparison - Only show if data available */}\n      {costOfLivingData.length > 0 && (\n        <div className=\"compare-chart-group\">\n          <ComparativeChart\n            title=\"Cost of Living Change Comparison\"\n            data={costOfLivingData}\n            yAxisLabel=\"Cost of Living Change (%)\"\n            dataKey=\"cost_of_living_change\"\n            unit=\"%\"\n            noDataMessage=\"Cost of living data not available for comparison\"\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default CompareGraphs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}